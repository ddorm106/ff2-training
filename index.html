<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>FF II Interactive Training - Centerville FD</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Segoe UI',sans-serif;background:#1a1a2e;color:#e0e0e0;min-height:100vh}
#app{max-width:960px;margin:0 auto;padding:20px}
.header{background:linear-gradient(135deg,#c0392b,#96281b);padding:20px 24px;border-radius:12px;margin-bottom:24px;display:flex;align-items:center;gap:16px}
.header h1{font-size:1.5rem;color:#fff;font-weight:700}
.header p{color:rgba(255,255,255,0.8);font-size:.85rem;margin-top:4px}
.fire-icon{font-size:2.5rem}
.nav-tabs{display:flex;gap:8px;margin-bottom:20px;flex-wrap:wrap}
.nav-tab{padding:10px 18px;background:#16213e;border:2px solid #0f3460;border-radius:8px;cursor:pointer;font-size:.85rem;color:#aaa;transition:all .2s}
.nav-tab:hover{border-color:#c0392b;color:#fff}
.nav-tab.active{background:#c0392b;border-color:#c0392b;color:#fff;font-weight:600}
.card{background:#16213e;border-radius:12px;padding:24px;margin-bottom:20px;border:1px solid #0f3460}
.card h2{color:#e74c3c;font-size:1.2rem;margin-bottom:8px}
.card h3{color:#3498db;font-size:1rem;margin-bottom:12px}
.badge{display:inline-block;background:#0f3460;color:#3498db;font-size:.75rem;padding:3px 10px;border-radius:20px;margin-bottom:12px}
.obj-list{list-style:none;padding:0}
.obj-list li{padding:8px 12px;border-left:3px solid #c0392b;margin-bottom:6px;background:#0d1b2a;border-radius:0 6px 6px 0;font-size:.9rem}
.terms-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px;margin-top:12px}
.term-card{background:#0d1b2a;border-radius:8px;padding:14px;border:1px solid #0f3460}
.term-card .term{color:#f39c12;font-weight:700;font-size:.9rem;margin-bottom:6px}
.term-card .def{color:#ccc;font-size:.82rem;line-height:1.4}
.question-block{background:#0d1b2a;border-radius:10px;padding:20px;margin-bottom:16px;border:1px solid #0f3460}
.question-num{color:#888;font-size:.8rem;margin-bottom:8px}
.question-text{font-size:1rem;font-weight:600;color:#e0e0e0;margin-bottom:14px;line-height:1.4}
.choices{display:grid;gap:8px}
.choice-btn{padding:12px 16px;background:#16213e;border:2px solid #0f3460;border-radius:8px;color:#ccc;cursor:pointer;text-align:left;font-size:.88rem;transition:all .2s}
.choice-btn:hover:not([disabled]){border-color:#3498db;color:#fff}
.choice-btn.correct{background:#1e5631;border-color:#27ae60;color:#2ecc71}
.choice-btn.wrong{background:#5d1a1a;border-color:#c0392b;color:#e74c3c}
.feedback{margin-top:10px;padding:10px 14px;border-radius:6px;font-size:.88rem;font-weight:600}
.feedback.correct{background:#1e5631;color:#2ecc71}
.feedback.wrong{background:#5d1a1a;color:#e74c3c}
.progress-bar{height:8px;background:#0f3460;border-radius:4px;margin-bottom:6px;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,#c0392b,#e74c3c);border-radius:4px;transition:width .5s}
.progress-fill.green{background:linear-gradient(90deg,#27ae60,#2ecc71)}
.score-summary{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:14px;margin-top:16px}
.score-box{background:#0d1b2a;border-radius:10px;padding:16px;text-align:center;border:1px solid #0f3460}
.score-box .num{font-size:2rem;font-weight:700;color:#e74c3c}
.score-box .num.pass{color:#2ecc71}
.score-box .label{color:#888;font-size:.8rem;margin-top:4px}
.status-badge{display:inline-block;padding:4px 12px;border-radius:20px;font-size:.75rem;font-weight:700}
.status-badge.pass{background:#1e5631;color:#2ecc71}
.status-badge.fail{background:#5d1a1a;color:#e74c3c}
.status-badge.progress{background:#1a3a5c;color:#3498db}
.btn{padding:12px 24px;background:#c0392b;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:600;transition:all .2s;margin-top:8px}
.btn:hover{background:#a93226}
.btn.secondary{background:#0f3460;color:#3498db}
.btn.secondary:hover{background:#1a4a80}
.chapter-nav{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}
.ch-btn{padding:8px 16px;background:#16213e;border:2px solid #0f3460;border-radius:8px;cursor:pointer;font-size:.82rem;color:#aaa;transition:all .2s}
.ch-btn:hover{border-color:#c0392b;color:#fff}
.ch-btn.active{background:#c0392b;border-color:#c0392b;color:#fff;font-weight:600}
.report-table{width:100%;border-collapse:collapse;margin-top:12px}
.report-table th{background:#0f3460;color:#3498db;padding:10px 14px;text-align:left;font-size:.85rem}
.report-table td{padding:10px 14px;border-bottom:1px solid #0f3460;font-size:.85rem}
.report-table tr:hover td{background:#0d1b2a}
.overall-score{text-align:center;padding:30px}
.section-divider{border:none;border-top:1px solid #0f3460;margin:20px 0}
.sm-btn{padding:5px 10px;font-size:.75rem;margin-top:0}
</style>
</head>
<body>
<div id="app"><p style="color:#888;padding:20px">Loading...</p></div>
<script>
var D={chapters:[{id:1,title:"Chapter 1: Incident Scene Operations",jprs:"7.1.1, 7.1.2, 7.2.1, 7.2.2, 7.3.2, 7.3.3",objectives:["Describe leadership and organizational principles that apply to a Firefighter II's role.","Describe responsibilities when initiating command.","Describe procedures for transferring command.","Describe a Firefighter II's role when coordinating unit operations at an incident.","Describe the components of a post-incident report.","Forecast fire growth and development (Skill 1-1).","Establish Incident Command and coordinate interior attack (Skill 1-2).","Use a thermal imager to locate victims, fire, and liquid levels (Skill 1-3).","Create a post-incident report (Skill 1-4)."],keyTerms:[{t:"Alarm Assignment",d:"Predetermined number and type of fire units assigned to respond to an emergency."},{t:"Automatic Aid",d:"Written agreement between two or more agencies to automatically dispatch predetermined resources to any fire or other emergency."},{t:"Defensive Strategy",d:"Overall plan for incident control that involves protection of exposures, as opposed to a direct attack or other operations in the IDLH environment."},{t:"Freelance",d:"Personnel operating outside the established IAP."},{t:"Mutual Aid",d:"Reciprocal assistance from one fire agency to another during an emergency, based upon a prearranged agreement."},{t:"NFIRS",d:"National Fire Incident Reporting System - national fire incident data collection system managed by the U.S. Fire Administration."},{t:"Offensive Strategy",d:"Overall plan for incident control in which responders intend to attack the fire directly, conduct a search, or perform a rescue."},{t:"Outside Aid",d:"Assistance from agencies, industries, or fire departments not part of the agency having jurisdiction over the incident."},{t:"Risk-Benefit Analysis",d:"Comparison between the known hazards and potential benefits of any operation; used to determine the feasibility and parameters of the operation."},{t:"Size-Up",d:"Ongoing evaluation of influential factors at the scene of an incident."},{t:"Small Diameter Hoseline (SDH)",d:"Hose of 3/4-inch to 2 inches in diameter; used for fire fighting purposes. Also known as Small Line."},{t:"Tactical Progress Report",d:"Radio communication informing the incident commander of the success, failure, or delay of a unit's assigned tactics."},{t:"Tactical Worksheet",d:"Document that the IC may use on the fire ground to track units and record field notes during an incident."}],questions:[{q:"What is the term for the ongoing evaluation of influential factors at the scene of an incident?",c:["Size-Up","Risk-Benefit Analysis","Tactical Worksheet","Alarm Assignment"],a:0},{q:"Which strategy involves protecting exposures rather than direct interior attack?",c:["Offensive Strategy","Freelancing","Defensive Strategy","Mutual Aid"],a:2},{q:"What document does an IC use on the fireground to track units and record field notes?",c:["NFIRS Report","Tactical Worksheet","Post-Incident Report","Alarm Assignment"],a:1},{q:"What is Automatic Aid?",c:["Assistance from agencies not part of the AHJ","Reciprocal assistance based on a prearranged agreement","A written agreement to automatically dispatch resources","Predetermined fire units assigned to an emergency"],a:2},{q:"Which skill sheet covers using a thermal imager?",c:["Skill Sheet 1-1","Skill Sheet 1-2","Skill Sheet 1-3","Skill Sheet 1-4"],a:2},{q:"Personnel operating outside the established IAP are said to be doing what?",c:["Offensive Strategy","Freelancing","Mutual Aid","Size-Up"],a:1},{q:"Which NFPA 1010 JPR addresses creating a post-incident report?",c:["7.1.1","7.2.1","7.3.2","7.2.2"],a:1},{q:"What is the purpose of a Risk-Benefit Analysis?",c:["Assign units to an alarm","Track personnel on scene","Determine feasibility and parameters of an operation","Predict fire growth"],a:2},{q:"What does NFIRS stand for?",c:["National Fire Inspection Reporting System","National Fire Incident Reporting System","National Firefighter Incident Response System","National Fire Investigation Review Service"],a:1},{q:"A Small Diameter Hoseline (SDH) ranges from what diameters?",c:["1 inch to 3 inches","3/4 inch to 2 inches","2 inches to 3.5 inches","1/2 inch to 1 inch"],a:1}]},{id:2,title:"Chapter 2: Building Materials, Structural Collapse, and Effects of Fire Suppression",jprs:"7.3.2",objectives:["Identify the effects of fire and fire suppression on building materials.","Identify indicators of structural collapse.","Describe actions to take when collapse is possible.","Describe dangerous building conditions created by fire and fire suppression activities."],keyTerms:[{t:"Collapse Zone",d:"Area beneath a wall in which the wall is likely to land if it loses structural integrity."},{t:"Curtain Wall",d:"Nonload-bearing exterior wall attached to the outside of a building with a rigid steel frame."},{t:"Drywall",d:"System of interior wall finish using sheets of gypsum board and taped joints."},{t:"Fiberglass",d:"Composite material consisting of glass fibers embedded in resin."},{t:"Green Wood",d:"Wood with high moisture content."},{t:"Gypsum",d:"Fire-resistant material used for gypsum plaster and wallboard."},{t:"HVAC System",d:"Mechanical system used to provide environmental control within a structure."},{t:"Rebar",d:"Steel bars placed in concrete forms before cement is poured; adds considerable strength and reinforcement."},{t:"Structural Collapse",d:"Structural failure of a building or any portion of it resulting from fire, snow, wind, water, or damage from other forces."},{t:"Veneered Walls",d:"Walls with a surface layer of attractive material laid over a base of a common material."}],questions:[{q:"What is the area beneath a wall likely to land if it loses structural integrity called?",c:["Collapse Zone","IDLH Zone","Hazard Perimeter","Buffer Zone"],a:0},{q:"Gypsum is primarily known as what type of material?",c:["Structural support material","Fire-resistant material","Waterproofing agent","Insulation material"],a:1},{q:"What is a Curtain Wall?",c:["A load-bearing wall in a high-rise","A nonload-bearing exterior wall attached to a rigid steel frame","A wall that separates fire compartments","A wall reinforced with rebar"],a:1},{q:"What is Green Wood in building construction?",c:["Wood painted green for identification","Wood with high moisture content","Recycled or reclaimed lumber","Wood treated with fire retardant"],a:1},{q:"What do the letters HVAC stand for?",c:["High Voltage Alarm Circuit","Heating, Ventilation, and Air Conditioning","Hazardous Vapor and Chemical","Hydraulic Ventilation and Control"],a:1},{q:"Rebar is used to reinforce which building material?",c:["Wood","Drywall","Concrete","Fiberglass"],a:2},{q:"Which NFPA 1010 JPR addresses structural collapse?",c:["7.1.1","7.2.1","7.3.2","7.4.1"],a:2},{q:"What is a Veneered Wall?",c:["A wall built entirely of brick","A wall with a surface layer over a base of common material","A wall designed to resist fire","A wall that is load-bearing"],a:1},{q:"What causes Structural Collapse? (Best answer)",c:["Only fire damage","Fire, snow, wind, water, or damage from other forces","Only water damage from fire suppression","Only excessive weight loads"],a:1},{q:"Which material consists of glass fibers embedded in resin?",c:["Drywall","Gypsum","Rebar","Fiberglass"],a:3}]},{id:3,title:"Chapter 3: Technical Rescue Support and Vehicle Extrication Operations",jprs:"7.4.1, 7.4.2",objectives:["Identify firefighter roles and responsibilities at technical rescue incidents.","Identify types of rescue tools.","Describe general vehicle anatomy.","Describe size-up procedures at a vehicle incident.","Identify procedures for stabilizing vehicles at a vehicle incident.","Describe vehicle extrication tactics."],keyTerms:[{t:"Accountability Officer",d:"Personnel position in ICS assigned the role of monitoring entry and exit of all personnel into and out of the hot zone at an incident."},{t:"A-Post",d:"Front post area of a vehicle where the door is connected to the body."},{t:"B-Post",d:"Post between the front and rear doors on a four-door vehicle."},{t:"Case-Hardened Steel",d:"Steel with a surface much harder than the interior metal due to special heat-treating methods; used in vehicle construction."},{t:"Chassis",d:"Basic operating system of a motor vehicle: frame, suspension system, wheels, and steering mechanism."},{t:"Come-Along",d:"Manually operated pulling tool that uses a ratchet/pulley arrangement to provide mechanical advantage."},{t:"Cribbing",d:"Lengths of solid wood or plastic used to stabilize vehicles and collapsed buildings during extrication incidents."},{t:"Extension Ram",d:"Powered hydraulic tool designed for straight pushing operations."},{t:"Pneumatic Lifting Bag",d:"Inflatable device placed between the ground and an object and inflated to lift it; can exceed 75 tons of lifting capacity."},{t:"Ratchet-Lever Jack",d:"Type of lifting jack using leverage to operate; generally recognized as the most dangerous of all jacks."},{t:"Safety Glass",d:"Two sheets of glass laminated to a sheet of plastic; most commonly used in windshields and rear windows."},{t:"Stabilization",d:"Process of providing additional support to prevent unwanted movement of an object of entrapment."},{t:"Step Chock",d:"Piece of cribbing with a tapered end, specially designed for stabilization of automobiles. Also known as Step Block."},{t:"SRS",d:"Supplemental Passenger Restraint System - air bag system that adds protection for drivers and passengers."},{t:"Tempered Glass",d:"Treated glass that crumbles into chunks when broken; most commonly used in side and rear windows."},{t:"Unibody Construction",d:"Method of automobile construction in which the frame and body form one integral unit; used on most modern cars."},{t:"Wheel Chock",d:"Block placed against the outer curve of a tire to prevent the apparatus from rolling."},{t:"Winch",d:"Pulling tool consisting of a steel chain or cable wrapped around a motor-driven drum."}],questions:[{q:"What is the A-Post on a vehicle?",c:["The post between front and rear doors","The rear roof post","The front post where the door connects to the body","The post nearest the rear door handle"],a:2},{q:"What type of glass crumbles into chunks when broken and is used in side windows?",c:["Safety Glass","Laminated Glass","Tempered Glass","Case-Hardened Glass"],a:2},{q:"What is Cribbing used for at extrication incidents?",c:["Pulling vehicles apart","Stabilizing vehicles and collapsed buildings","Cutting through metal","Controlling fire around vehicles"],a:1},{q:"A Pneumatic Lifting Bag can have a lifting capacity in excess of how many tons?",c:["10 tons","25 tons","50 tons","75 tons"],a:3},{q:"What construction method makes the frame and body of a vehicle one integral unit?",c:["Body-on-frame","Unibody Construction","Composite Construction","Chassis Construction"],a:1},{q:"Which is considered the most dangerous type of lifting jack?",c:["Hydraulic Jack","Screw Jack","Pneumatic Jack","Ratchet-Lever Jack"],a:3},{q:"What is the Nader Pin?",c:["A safety pin in the SRS system","A bolt on a vehicle door frame that the door latches onto","A pin used in hydraulic tools","A fastener in vehicle roof construction"],a:1},{q:"What does SRS stand for in vehicle safety systems?",c:["Safety Restraint System","Supplemental Passenger Restraint System","Standard Rescue System","Side Restraint Support"],a:1},{q:"The Come-Along tool provides mechanical advantage through what mechanism?",c:["Hydraulic pressure","Pneumatic inflation","Ratchet/pulley arrangement","Motor-driven drum"],a:2},{q:"What is the primary purpose of an Accountability Officer at a technical rescue incident?",c:["Command all rescue operations","Monitor entry/exit of personnel into the hot zone","Manage communications","Coordinate mutual aid"],a:1}]},{id:4,title:"Chapter 4: Foam Fire Fighting, Liquid Fires, and Gas Fires",jprs:"7.3.1, 7.3.4",objectives:["Identify characteristics and hazards of fire fighting foam.","Describe foam generation and proportioning methods.","Describe foam application techniques.","Describe techniques for controlling flammable liquid fires.","Describe techniques for controlling flammable gas fires involving pressurized containers."],keyTerms:[{t:"AFFF",d:"Aqueous Film Forming Foam - synthetic foam concentrate that forms a vapor barrier over fuel spills and fires; highly effective on hydrocarbon fuels."},{t:"BLEVE",d:"Boiling Liquid Expanding Vapor Explosion - rapid vaporization of a liquid stored under pressure upon release following major failure of its containing vessel."},{t:"Class B Foam",d:"Foam fire-suppression agent designed for use on Class B flammable or combustible liquids."},{t:"CAFS",d:"Compressed Air Foam System - high-energy foam-generation system with an air compressor, water pump, and foam solution."},{t:"Eduction",d:"Process used to mix foam concentrate with water; concentrate is drawn into the water stream by the Venturi method."},{t:"FFFP",d:"Film Forming Fluoroprotein Foam - combines qualities of fluoroprotein foam with those of AFFF."},{t:"Finished Foam",d:"Completed product after air is introduced into the foam solution."},{t:"Fluoroprotein Foam",d:"Protein foam with synthetic fluorinated surfactants added; enables foam to shed from hydrocarbon fuels."},{t:"Foam Concentrate",d:"Raw chemical compound solution mixed with water and air to produce finished foam."},{t:"Foam Proportioner",d:"Device that injects the correct amount of foam concentrate into the water stream."},{t:"Foam Solution",d:"Result of mixing the appropriate amount of foam concentrate with water; exists between the proportioner and the nozzle."},{t:"Injection",d:"Method of proportioning foam using an external pump or head pressure to force foam concentrate into the fire stream."},{t:"Premixing",d:"Mixing premeasured portions of water and foam concentrate in a container; typically used with portable extinguishers."},{t:"Pressure Relief Device (PRD)",d:"An engineered valve used to control or limit pressure in a system or vessel by venting excess pressure."}],questions:[{q:"What does BLEVE stand for?",c:["Burning Liquid Expanding Vapor Event","Boiling Liquid Expanding Vapor Explosion","Boiling Liquid Explosive Vapor Emergency","Burning Liquid Emergency Venting Explosion"],a:1},{q:"AFFF is most effective on what type of fuel?",c:["Polar solvents","Class A materials","Hydrocarbon fuels","Gas fires"],a:2},{q:"What is the process of drawing foam concentrate into a water stream using the Venturi method called?",c:["Injection","Premixing","Eduction","Proportioning"],a:2},{q:"Finished Foam is the completed product after what is added?",c:["Foam concentrate","Water","Air","Fluorinated surfactants"],a:2},{q:"What type of foam is designed specifically for Class B flammable or combustible liquids?",c:["Class A Foam","Protein Foam","Class B Foam","High Expansion Foam"],a:2},{q:"What does CAFS stand for?",c:["Chemical Agent Foam System","Compressed Air Foam System","Combined Aerial Fire Suppression","Continuous Application Foam System"],a:1},{q:"A BLEVE occurs when a vessel fails due to what primary cause?",c:["Over-pressurization from an external heat source","Internal chemical reaction","Impact damage","Material corrosion"],a:0},{q:"What is premixing typically used for?",c:["High-volume fixed systems","Portable extinguishers and small tank systems","Large aerial operations","In-line hoseline applications"],a:1},{q:"What device injects the correct amount of foam concentrate into the water stream?",c:["In-Line Eductor","Foam Proportioner","Extension Ram","Pressure Relief Device"],a:1},{q:"Which foam type combines qualities of both fluoroprotein foam and AFFF?",c:["CAFS","Class B Foam","FFFP","Compressed Air Foam"],a:2}]}]};
var S={v:'home',ci:0,qa:{},qs:{}};
function gCS(id){var ch=D.chapters.find(function(c){return c.id===id});if(!ch)return null;var ok=0,ans=0;ch.questions.forEach(function(q,i){var k='c'+id+'q'+i;if(S.qa[k]!==undefined){ans++;if(S.qa[k].ok)ok++;}});return{ok:ok,ans:ans,tot:ch.questions.length};}
function gOS(){var tok=0,tans=0,tot=0;D.chapters.forEach(function(ch){var s=gCS(ch.id);tok+=s.ok;tans+=s.ans;tot+=s.tot;});return{tok:tok,tans:tans,tot:tot};}
function nav(v,ci){S.v=v;if(ci!==undefined)S.ci=ci;render();window.scrollTo(0,0);}
function ansQ(chId,qi,sel){var k='c'+chId+'q'+qi;if(S.qa[k]!==undefined)return;var ch=D.chapters.find(function(c){return c.id===chId});S.qa[k]={sel:sel,ok:ch.questions[qi].a===sel};render();}
function subQ(chId){S.qs[chId]=true;render();}
function rstQ(chId){var ch=D.chapters.find(function(c){return c.id===chId});ch.questions.forEach(function(q,i){delete S.qa['c'+chId+'q'+i];});delete S.qs[chId];render();}
function pct(a,b){return b>0?Math.round(a/b*100):0;}
function sb(cls,txt){return '<span class="status-badge '+cls+'">'+txt+'</span>';}
function stHTML(ch){var s=gCS(ch.id);var sub=S.qs[ch.id];if(sub){var p=pct(s.ok,s.tot);return p>=70?sb('pass','PASS '+p+'%'):sb('fail','FAIL '+p+'%');}if(s.ans>0)return sb('progress','In Progress ('+s.ans+'/'+s.tot+')');return sb('progress','Not Started');}
function navHTML(active){var tabs=[['home','Home'],['review','Review'],['quiz','Quiz'],['report','Status Report']];var icons={'home':'Home','review':'Review','quiz':'Quiz','report':'Report'};return '<div class="nav-tabs">'+tabs.map(function(t){return '<button class="nav-tab'+(active===t[0]?' active':'')+'" data-nav="'+t[0]+'">'+t[1]+'</button>';}).join('')+'</div>';}
function chNavHTML(view){return '<div class="chapter-nav">'+D.chapters.map(function(c,i){return '<button class="ch-btn'+(i===S.ci?' active':'')+'" data-nav="'+view+'" data-ci="'+i+'">Ch '+c.id+'</button>';}).join('')+'</div>';}
function render(){var v=S.v;if(v==='home')rHome();else if(v==='review')rReview();else if(v==='quiz')rQuiz();else if(v==='report')rReport();}
function rHome(){var o=gOS();var p=pct(o.tok,o.tot);var cards=D.chapters.map(function(ch){return '<div class="card"><h2>'+ch.title+'</h2><div class="badge">NFPA 1010 JPRs: '+ch.jprs+'</div><div style="display:flex;justify-content:space-between;align-items:center;margin-top:10px;flex-wrap:wrap;gap:10px;"><div>'+stHTML(ch)+'</div><div style="display:flex;gap:8px;flex-wrap:wrap;"><button class="btn secondary" data-nav="review" data-ci="'+(ch.id-1)+'">Review</button><button class="btn" data-nav="quiz" data-ci="'+(ch.id-1)+'">Quiz</button></div></div></div>';}).join('');document.getElementById('app').innerHTML='<div class="header"><div class="fire-icon">&#128293;</div><div><h1>Firefighter II Interactive Training</h1><p>Centerville Fire Department &bull; 2026 &bull; Chapters 1-4</p></div></div>'+navHTML('home')+'<div class="card"><h3>Overall Progress</h3><div class="progress-bar"><div class="progress-fill'+(p>=70?' green':'')+'" style="width:'+p+'%"></div></div><div style="display:flex;justify-content:space-between;font-size:.82rem;color:#888;margin-top:4px;"><span>'+o.tok+' / '+o.tot+' questions correct</span><span>'+p+'%</span></div></div>'+cards+'<div style="text-align:center;margin-top:20px;"><button class="btn" data-nav="report">View Full Status Report</button></div>';}
function rReview(){var ch=D.chapters[S.ci];var ol=ch.objectives.map(function(o){return'<li>'+o+'</li>';}).join('');var tg=ch.keyTerms.map(function(t){return'<div class="term-card"><div class="term">'+t.t+'</div><div class="def">'+t.d+'</div></div>';}).join('');document.getElementById('app').innerHTML='<div class="header"><div class="fire-icon">&#128218;</div><div><h1>Content Review</h1><p>Study the material before taking the quiz</p></div></div>'+navHTML('review')+chNavHTML('review')+'<div class="card"><h2>'+ch.title+'</h2><div class="badge">NFPA 1010 JPRs: '+ch.jprs+'</div><hr class="section-divider"><h3>Learning Objectives</h3><ul class="obj-list" style="margin-top:10px;">'+ol+'</ul></div><div class="card"><h3>Key Terms &amp; Definitions</h3><div class="terms-grid">'+tg+'</div></div><div style="text-align:center;margin-top:10px;padding-bottom:20px;"><button class="btn" data-nav="quiz" data-ci="'+S.ci+'">Take Chapter '+ch.id+' Quiz</button></div>';}
function rQuiz(){var ch=D.chapters[S.ci];var sub=S.qs[ch.id];var sc=gCS(ch.id);var qs=ch.questions.map(function(q,i){var k='c'+ch.id+'q'+i;var ans=S.qa[k];var done=ans!==undefined;var cb=q.c.map(function(c,ci){var cls='choice-btn'+(done?(ci===q.a?' correct':(ans.sel===ci?' wrong':'')):'');return'<button class="'+cls+'"'+(done?' disabled':'')+' data-ansq="'+ch.id+'" data-qi="'+i+'" data-ci="'+ci+'">'+c+'</button>';}).join('');var fb=done?(ans.ok?'<div class="feedback correct">Correct!</div>':'<div class="feedback wrong">Incorrect. Correct: '+q.c[q.a]+'</div>'):'';return'<div class="question-block"><div class="question-num">Question '+(i+1)+' of '+ch.questions.length+'</div><div class="question-text">'+q.q+'</div><div class="choices">'+cb+'</div>'+fb+'</div>';}).join('');var sH='';if(sub){var p=pct(sc.ok,sc.tot);var pass=p>=70;sH='<div class="card" style="text-align:center;background:'+(pass?'#1e3a2f':'#3a1e1e')+';border-color:'+(pass?'#27ae60':'#c0392b')+';margin-bottom:20px;"><div style="font-size:3rem;font-weight:700;color:'+(pass?'#2ecc71':'#e74c3c')+';">'+p+'%</div><div style="color:#ccc;margin-top:6px;">'+sc.ok+' / '+sc.tot+' Correct</div><div style="margin-top:8px;">'+sb(pass?'pass':'fail',pass?'PASSED':'FAILED - Need 70% to pass')+'</div><button class="btn secondary" style="margin-top:14px;" data-rst="'+ch.id+'">Retake Quiz</button></div>';}else if(sc.ans===ch.questions.length){sH='<div style="text-align:center;margin-bottom:16px;"><button class="btn" data-sub="'+ch.id+'">Submit &amp; See Results</button></div>';}var pp=pct(sc.ans,ch.questions.length);document.getElementById('app').innerHTML='<div class="header"><div class="fire-icon">&#9998;</div><div><h1>Knowledge Check</h1><p>Answer all questions then submit for scoring</p></div></div>'+navHTML('quiz')+chNavHTML('quiz')+'<div class="card"><h2>'+ch.title+'</h2><div class="badge">NFPA 1010 JPRs: '+ch.jprs+'</div><div style="margin-top:12px;"><div class="progress-bar"><div class="progress-fill'+(pp===100?' green':'')+'" style="width:'+pp+'%"></div></div><div style="font-size:.82rem;color:#888;margin-top:4px;">'+sc.ans+' / '+ch.questions.length+' answered</div></div></div>'+sH+qs+'<div style="padding-bottom:20px;"></div>';}
function rReport(){var o=gOS();var tp=pct(o.tok,o.tot);var cc=D.chapters.filter(function(ch){return S.qs[ch.id];}).length;var pc=D.chapters.filter(function(ch){if(!S.qs[ch.id])return false;var s=gCS(ch.id);return pct(s.ok,s.tot)>=70;}).length;var rows=D.chapters.map(function(ch){var s=gCS(ch.id);var sub=S.qs[ch.id];var p=pct(s.ok,s.tot);var st=sub?(p>=70?sb('pass','PASS'):sb('fail','FAIL')):(s.ans>0?sb('progress','In Progress'):sb('progress','Not Started'));var sd=sub?(s.ok+' / '+s.tot+' ('+p+'%)'):(s.ans>0?s.ans+'/'+s.tot+' answered':'--');return'<tr><td>'+ch.id+'</td><td>'+ch.title+'</td><td>'+sd+'</td><td>'+st+'</td><td><button class="btn secondary sm-btn" data-nav="review" data-ci="'+(ch.id-1)+'">Review</button> <button class="btn sm-btn" data-nav="quiz" data-ci="'+(ch.id-1)+'">'+( sub?'Retake':'Quiz')+'</button></td></tr>';}).join('');document.getElementById('app').innerHTML='<div class="header"><div class="fire-icon">&#128202;</div><div><h1>Student Status Report</h1><p>Knowledge tracking across all chapters</p></div></div>'+navHTML('report')+'<div class="card overall-score"><div style="color:#888;font-size:.85rem;margin-bottom:8px;">OVERALL SCORE</div><div style="font-size:3.5rem;font-weight:700;color:'+(tp>=70?'#2ecc71':'#e74c3c')+';">'+tp+'%</div><div style="color:#ccc;margin-top:8px;">'+o.tok+' correct out of '+o.tot+' total questions</div><div style="margin-top:10px;">'+sb(tp>=70?'pass':'fail',tp>=70?'ON TRACK':'NEEDS IMPROVEMENT')+'</div></div><div class="score-summary"><div class="score-box"><div class="num">'+cc+'/4</div><div class="label">Chapters Completed</div></div><div class="score-box"><div class="num'+(pc>=3?' pass':'')+'">'+pc+'/4</div><div class="label">Chapters Passed (70%+)</div></div><div class="score-box"><div class="num">'+o.tans+'</div><div class="label">Questions Answered</div></div><div class="score-box"><div class="num'+(tp>=70?' pass':'')+'">'+tp+'%</div><div class="label">Overall Score</div></div></div><div class="card" style="margin-top:20px;overflow-x:auto;"><h3>Chapter-by-Chapter Breakdown</h3><table class="report-table"><thead><tr><th>#</th><th>Chapter</th><th>Score</th><th>Status</th><th>Actions</th></tr></thead><tbody>'+rows+'</tbody></table></div>';}
document.getElementById('app').addEventListener('click',function(e){
  var el=e.target.closest('[data-nav]');
  if(el){var ci=el.dataset.ci;nav(el.dataset.nav,ci!==undefined?parseInt(ci):undefined);return;}
  el=e.target.closest('[data-ansq]');
  if(el){ansQ(parseInt(el.dataset.ansq),parseInt(el.dataset.qi),parseInt(el.dataset.ci));return;}
  el=e.target.closest('[data-sub]');
  if(el){subQ(parseInt(el.dataset.sub));return;}
  el=e.target.closest('[data-rst]');
  if(el){rstQ(parseInt(el.dataset.rst));return;}
});
render();
</script>
</body>
</html>
